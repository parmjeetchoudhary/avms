/*! appearance v1.0.1 | (c) 2017-2018 Alexander Stulnikov | MIT License */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.appearance=t()}(this,function(){"use strict";function e(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s={addClasses:!0,animateVisible:!0,classesPrefix:"appearance",container:window,customEnterCheck:null,enterOnce:!1,paused:!1,responsive:null,skipVisible:!1},i=function(n){return n&&"object"===(void 0===n?"undefined":t(n))&&(s=e({},s,n)),s};function a(e,t){if(e)for(var n=0,o=(e=e.slice(0)).length;n<o;++n)e[n].apply(t)}function r(e,t){if(!e||!e.offsetParent&&void 0===e.ownerSVGElement)return!1;var n=e.getBoundingClientRect(),o=0+t.offset.top,s=0+t.offset.left,i=window.innerHeight-t.offset.bottom,a=window.innerWidth-t.offset.right;return e.appearanceRect=n,n.top<i&&n.bottom>o&&n.left<a&&n.right>s}var c,l=function(){function t(e,o){var s=this;n(this,t),this.options=o,this.options=o,this.callbacks={},this.enabled=!1,this.elements=(i=e,"string"==typeof i||i instanceof String?Array.prototype.slice.call(document.querySelectorAll(i)):i.length?Array.prototype.slice.call(i):i instanceof HTMLElement?[i]:[]);var i;this.options.offset=(c=this.options.offset,c?isNaN(c)?(("string"==typeof c||c instanceof String)&&(c=c.replace(/\s+/g," ").trim()),{top:0,right:0,bottom:0,left:0}):{top:c=parseFloat(c),right:c,bottom:c,left:c}:{top:0,right:0,bottom:0,left:0});var c;return this.options.customEnterCheck&&"function"!=typeof this.options.customEnterCheck&&(this.options.customEnterCheck=null),this.options.addClasses&&this.elements.forEach(function(e){if(o.animateVisible)s.options.addClasses&&e.classList.add(s.options.classesPrefix);else{(s.options.customEnterCheck||r)(e,s.options)?(e.appearanceEntered=!0,s.options.addClasses&&e.classList.add(s.options.classesPrefix,s.options.classesPrefix+"-enter"),a(s.callbacks["appearance:enter"],e),console.log("adding class")):s.options.addClasses&&e.classList.add(s.options.classesPrefix)}}),o.paused||requestAnimationFrame(function(){s.enable().update()}),this}return o(t,[{key:"on",value:function(e,t){return(this.callbacks[e]||(this.callbacks[e]=[])).push(t),this}},{key:"once",value:function(e,t){return this.on(e,function n(){this.off(e,n),t.apply(this,arguments)})}},{key:"off",value:function(e,t){return this}},{key:"update",value:function(){var e=this;return this.enabled&&(this.options.addClasses||Object.keys(this.callbacks).length)?(this.elements.forEach(function(t){if(!t.appearanceEntered||!e.options.enterOnce){var n=(e.options.customEnterCheck||r)(t,e.options);n&&!t.appearanceEntered?(t.appearanceEntered=!0,e.options.addClasses&&t.classList.add(e.options.classesPrefix+"-enter"),a(e.callbacks["appearance:enter"],t)):!n&&t.appearanceEntered&&(t.appearanceEntered=!1,e.options.addClasses&&t.classList.remove(e.options.classesPrefix+"-enter"),a(e.callbacks["appearance:leave"],t)),n&&e.callbacks["appearance:move"]&&a(e.callbacks["appearance:move"],t)}}),this):this}},{key:"recalculate",value:function(){this.options=function(t){if(!t.responsive)return t;t.responsive instanceof Array||(t.responsive=[t.responsive]);var n=t;return t.responsive.forEach(function(t){isNaN(t.breakpoint)||t.breakpoint<window.innerWidth||t.options||(delete t.options.responsive,n=e({},n,t.options))}),n}(this.options),this.update()}},{key:"enable",value:function(){return this.destroyed?this:(this.enabled=!0,this)}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"destroy",value:function(){this.destroyed=!0,this.disable(),this.elements=[],this.callbacks={}}}]),t}(),f=!1,p=!1,u=[],d=!1,h=0,m=0;function v(){d||(d=!0,requestAnimationFrame(function(){c=performance.now(),u.slice(0).forEach(function(e){e.destroyed||e.update()}),h+=performance.now()-c,m++,console.log(h/m+"ms"),d=!1}))}function y(){requestAnimationFrame(function(){u.slice(0).forEach(function(e){e.destroyed||e.recalculate()})})}var b={defaultOptions:i,watch:function(t,n){var o=new l(t,e({},i(),n));return u.push(o),p||(p=!0,b.enable()),o},enable:function(){!f&&u.length&&(f=!0,window.addEventListener("load",y),window.addEventListener("scroll",v),window.addEventListener("resize",y))},disable:function(){f&&(f=!1,window.removeEventListener("load",y),window.removeEventListener("scroll",v),window.removeEventListener("resize",y))},destroyAll:function(){var e=u;u=[],e.forEach(function(e){e.destroy()})}};return b});
